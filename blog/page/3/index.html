
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Almir 'm3nd3s'</title>
  <meta name="author" content="m3nd3s">

  
  <meta name="description" content="Para que você gosta de acompanhar os eventos de informática aqui da Grande Vitória - Espírito Santo: 1º Fórum Capixaba de Informatica - FOCAI Em &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.almirmendes.com/blog/page/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Almir 'm3nd3s'" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!-- <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"> 
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"> -->
<link href='http://fonts.googleapis.com/css?family=Lustria|Amethysta|Terminal+Dosis' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-10130376-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Almir 'm3nd3s'</a></h1>
  
    <h2>Ruby, Rails, Arduino, GNU/Linux, Software livre...</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.almirmendes.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Posts</a></li>
  <li><a href="/presentations">Apresentações</a></li>
  <li><a href="/about">Sobre</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/08/21/eventos-20112/">Eventos 2011/2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-21T16:49:37-03:00" pubdate data-updated="true">Aug 21<span>st</span>, 2011</time>
        
         | <a href="/blog/2011/08/21/eventos-20112/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Para que você gosta de acompanhar os eventos de informática aqui da Grande Vitória - Espírito Santo:</p>

<h2>1º Fórum Capixaba de Informatica - FOCAI</h2>

<p>Em setembro o SENAI será a sede do Fórum Capixaba de Informática, FOCAI 2011. São esperadas cerca de 800 pessoas entre estudantes, profissionais e especialistas da área. O evento será realizado nos dias 02 e 03 de setembro no SENAI - Beira Mar.</p>

<p>O FOCAI é um evento que abrirá espaço para discussões e reflexões sobre o mercado capixaba, novas tecnologias, além de promover a integração e valorização dos profissionais e empresas do estado do Espírito Santo.</p>

<p>Constam na programação do evento: palestras, mesa-redonda e minicursos sobre temas ligados às tecnologias da informação e comunicação, segurança, infra-estrutura, sistemas livres e proprietários, etc.</p>

<p>Mais detalhes sobre a localização, programação do evento e inscrições podem ser obtidas no site do evento: <a href="http://www.focai.com.br">http://www.focai.com.br</a>.</p>

<p>Eu terei o privilégio de apresentar duas palestras: Do PHP ao Rails e outra sobre Arduino. Agente se vê por lá.</p>

<h2>Liberdade Interativa</h2>

<p>Evento organizado pela comunidade Tux-ES. Como o próprio nome diz, esse evento foi criado para manter a Interatividade entre a comunidade de Software Livre do Espírito Santo, onde todos poderão trocar idéias, compartilhar conhecimentos e, por que não, fazer um Networking.</p>

<p>Baseado nos eventos “Day”, o Liberdade Interativa acontece em um sábado a cada dois meses, contando, atualmente, com dois Workshops (ou Palestras) por dia.</p>

<p>O próximo LI será realizado no dia 24 de setembro, ainda sem local definido mas muito provavelmente será realizado na Faculdade Salesiana. Abaixo os tópicos que serão abordados nesta próxima edição:</p>

<ul>
<li>Desenvolvimento Mobile com Ruby - Rodrigo Martins</li>
<li>SEO - Daniel Marcos</li>
<li>Hands On do Gentoo - Claudio / Spidey</li>
</ul>


<p>Fique ligado no site da comunidade <a href="http://www.tux-es.org/liberdadeinterativa">Tux-ES</a> para obter mais informações</p>

<h2>Rock&#8217;n Rails</h2>

<p>O Rock and Rails será um evento dedicado ao desenvolvimento em linguagem Ruby e a framework Ruby on Rails, cuja aceitação e adoção nas empresas está em franco crescimento.</p>

<p>Este evento é inédito no estado do Espírito Santo e tem como objetivos principais disseminar o conhecimento da linguagem/framework e obter uma ideia da quantidade de interessados/profissionais/entusiastas não apenas da linguagem mas do desenvolvimento para internet.</p>

<p>O evento está sendo organizado pela equipe da <a href="http://www.giran.com.br/">Giran Ecommerce Solutions</a> e não terá fins lucrativos: todos os recursos obtidos junto aos parceiros, patrocinadores e incrições será revertido para cobertura do evento e compra de brindes para sorteio ao final do evento.</p>

<p>A grade ainda está em planejamento, entretanto já temos dia, local e horário: 01 de outubro de 2011 (sábado) de 8:00h até 17:00h no Anfiteatro da UVV, Vila Velha.</p>

<p>Fique de olho no website do evento, que será liberado ainda está semana, <a href="http://www.rockandrails.com.br">clique aqui para obter mais informações bem como sua inscrição</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/07/25/deploy-de-aplicacoes-rails-com-capistrano/">Deploy De Aplicações Rails Com Capistrano</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-07-25T18:34:50-03:00" pubdate data-updated="true">Jul 25<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/07/25/deploy-de-aplicacoes-rails-com-capistrano/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Me lembro do tempo que eu perdia fazendo subir minhas aplicações PHP para servidor de produção (deploy): tinha que criar o banco de dados, fazer um <em>dump</em> do banco de dados de desenvolvimento para carregar o banco de dados de produção, checar as permissões dos paths utilizados para upload, etc.</p>

<p>Quanto tinha atualização para fazer era uma preocupação danada, eu precisava checar quais arquivos foram atualizados para só subir estes e assim não correr o risco de sobrescrever alguma configuração própria do ambiente de produção.</p>

<p><img class="left" src="/images/blog/ror_logo.jpg" title="Ruby on Rails framework" > Há algum tempo eu parei de desenvolver aplicações em PHP para trabalhar com o framework <a href="http://rubyonrails.org/">Ruby on Rails</a>, aproveitando a deixa, tenho uma palestra onde conto um pouco como está sendo essa migração e o que ganhei com isso. Dentre as facilidades que ganhei ao migrar para o framework Rails está o deploy - que significa implantação em inglês - de aplicações via ferramenta chamada <a href="https://github.com/capistrano/capistrano">Capistrano</a>.</p>

<p>O Capistrano é uma ferramenta (gem) para deploy de aplicações web. Inicialmente utilizada para deploy de aplicações Ruby on Rails ela também pode ser personalizada para fazer deploy de aplicações não Rails. O Capistrano é tipicamente instalado em uma estação de trabalho e usado para implantar o código fonte de sua aplicação, via um gerenciador de código fonte (SCM), em um ou mais servidores previamente configurados.</p>

<p>Para utilizar o Capistrano tenha em mente que:</p>

<ul>
<li>É necessário acesso SSH ao servidor de produção, onde será realizado o deploy de sua aplicação. O Capistrano não suporta FTP ou telnet;</li></li>
<li>O servidor de produção precisa ter um shell compatível com o padrão POSIX, ou seja, precisa ter um: bash, sh, etc. Resumidamente não é aconselhável para servidores MS Windows, mas acredito que seja possível se você tiver força de vontade e instalar um pacote POSIX em seu servidor MS Windows;</li>
<li>Trabalhe com chaves SSH, é muito mais prático e fácil, permitindo que o processo fique mais automátizado.</li>
</ul>


<p>O Capistrano possui um arquivo chamado <code>Capfile</code>. Este arquivo é responsável por incluir as bibliotecas necessárias, bem como os helpers utilizados para configurar o deploy de sua aplicação.</p>

<h2>Instalação</h2>

<p>Por se tratar de uma gem a instalação é muito simples e segue o padrão já conhecido:</p>

<figure class='code'><figcaption><span>Instalando a gem capistrano direto no sistema </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  <span class="nv">$ </span>gem install capistrano
</span></code></pre></td></tr></table></div></figure>


<p>Ou se preferir adicione-o ao seu projeto Rails por meio do arquivo Gemfile:</p>

<figure class='code'><figcaption><span>Configura</span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;capistrano&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Capificação</h2>

<p>O primeiro passo após instalar o Capistrano é &#8220;capificar&#8221; sua aplicação. Este processo consiste em transformar sua aplicação gerenciável pelo Capistrano. O processo é simples, rode o comando abaixo na raiz de sua aplicação:</p>

<figure class='code'><figcaption><span>Tornando o projeto gerenci</span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ cd my_app/
</span><span class='line'>$ capify .</span></code></pre></td></tr></table></div></figure>


<p>Este comando criará dois arquivos em sua aplicação, o primeiro é o já citado <code>Capfile</code>, este é o arquivo responsável por carregar as bibliotecas necessárias ao Capistrano.</p>

<p>O segundo arquivo é gerado o <code>config/deploy.rb</code>, e este é o arquivo que iremos utilizar para configurar nosso deploy. Em geral este será o único arquivo que precisaremos alterar para configurar nosso deploy.</p>

<h2>Configuração</h2>

<p>Conforme já mencionado, a configuração é feita através do arquivo <code>config/deploy.rb</code>, o formato é muito semelhante ao <code>Rakefile</code>. O primeiro passo é informar o nome de nossa aplicação, fique a vontade para escolher um nome:</p>

<figure class='code'><figcaption><span>Defini</span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">set</span> <span class="ss">:application</span><span class="p">,</span> <span class="s2">&quot;almirmendes_blog&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Agora precisamos informar ao Capistrano onde reside o código fonte de nossa aplicação, para este exemplo estou considerando que minha aplicação está hospedada no <a href="http://github.com">Github</a>.</p>

<figure class='code'><figcaption><span>Defini</span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">set</span> <span class="ss">:repository</span><span class="p">,</span> <span class="s2">&quot;git@github.com:m3nd3s/almirmendes_blog.git&quot;</span>
</span><span class='line'><span class="n">set</span> <span class="ss">:scm</span><span class="p">,</span> <span class="s2">&quot;git&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Agora vamos configurar o caminho onde a aplicação será implantada/instalada:</p>

<figure class='code'><figcaption><span>Diret</span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">set</span> <span class="ss">:deploy_to</span><span class="p">,</span> <span class="s2">&quot;/var/www/almirmendes&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Além do path/caminho nós precisamos informar ao Capistrano o(s) endereço(s) de nosso servidor de produção, segue um exemplo:</p>

<figure class='code'><figcaption><span>Hosts dos servidores que utilizaremos para deploy </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">role</span> <span class="ss">:app</span><span class="p">,</span> <span class="s2">&quot;almirmendes.com&quot;</span>
</span><span class='line'><span class="n">role</span> <span class="ss">:web</span><span class="p">,</span> <span class="s2">&quot;almirmendes.com&quot;</span>
</span><span class='line'><span class="n">role</span> <span class="ss">:db</span><span class="p">,</span> <span class="s2">&quot;almirmendes.com&quot;</span><span class="p">,</span> <span class="ss">:primary</span> <span class="o">=&gt;</span> <span class="kp">true</span>
</span></code></pre></td></tr></table></div></figure>


<p>Nesse ponto pode surgir uma dúvida: <em>&#8220;Porque preciso informar três vezes o endereço?&#8221;</em>. Eu também fiquei com essa dúvida pela primeira vez, mas a explicação é muito boa e traz consigo outro recurso do Capistrano.</p>

<p>Perceba que o atributo é diferente para cada um deles, isto porque em alguns casos sua aplicação está distribuída em servidores diferentes - no meu caso estou usando o mesmo servidor para a aplicação, o banco de dados e servidor web - e possivelmente você queira definir tarefas para serem executadas apenas em um ou outro servidor. Resumidamente, o Capistrano lhe fornece a opção de definir comandos/tarefas para serem executados em um servidor específico, e não em todos.</p>

<p>Como em nosso exemplo estamos usando o mesmo servidor para tudo, existe uma configuração rápida para substituir as linhas citadas acima, assim a configuração mais clara e simples. Substitua as três linhas acima, caso queria, pela linha abaixo:</p>

<figure class='code'><figcaption><span>O mesmo apresentado acima, entretanto em uma linha s</span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">server</span> <span class="s2">&quot;almirmendes.com&quot;</span><span class="p">,</span> <span class="ss">:app</span><span class="p">,</span> <span class="ss">:web</span><span class="p">,</span> <span class="ss">:db</span><span class="p">,</span> <span class="ss">:primary</span> <span class="o">=&gt;</span> <span class="kp">true</span>
</span></code></pre></td></tr></table></div></figure>


<p>Precisamos informar também o usuário que será utilizado durante o processo de deploy. É importante que este usuário tenha permissão de escrita na pasta onde a aplicação será instalada:</p>

<figure class='code'><figcaption><span>Usu</span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">set</span> <span class="ss">:user</span><span class="p">,</span> <span class="s2">&quot;almir&quot;</span>
</span><span class='line'><span class="n">set</span> <span class="ss">:use_sudo</span><span class="p">,</span> <span class="kp">false</span>
</span></code></pre></td></tr></table></div></figure>


<p>Por padrão o Capistrano tentará executar certos comandos com o [cci]sudo[/cci]. Se você estiver fazendo deploy de sua aplicação em um servidor compartilhado é muito provável que você não tenha acesso de superusuário e tão pouco o [cci]sudo[/cci] configurado, portanto vamos configurar o Capistrano para não utilizar o [cci]sudo[/cci] - conforme visto acima.</p>

<p>Neste ponto já temos o que é suficiente para um deploy &#8220;saudável&#8221;, entretanto gostaria de passar mais algumas opções que podem ajudar:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># Necessário para integração entre Capistrano e RVM</span>
</span><span class='line'><span class="vg">$:</span><span class="o">.</span><span class="n">unshift</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">expand_path</span><span class="p">(</span><span class="s1">&#39;./lib&#39;</span><span class="p">,</span> <span class="no">ENV</span><span class="o">[</span><span class="s1">&#39;rvm_path&#39;</span><span class="o">]</span><span class="p">))</span> <span class="c1"># Add RVM&#39;s lib directory to the load path.</span>
</span><span class='line'><span class="nb">require</span> <span class="s2">&quot;rvm/capistrano&quot;</span><span class="err">                 </span> <span class="c1"># Load RVM&#39;s capistrano plugin.</span>
</span><span class='line'><span class="n">set</span> <span class="ss">:rvm_ruby_string</span><span class="p">,</span> <span class="s1">&#39;1.9.2&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># A primeira, permite definir o número de releases que serão armazenados no servidor. </span>
</span><span class='line'><span class="c1"># Essa configuração permite que você possa manter versões anteriores de sua aplicação </span>
</span><span class='line'><span class="c1"># no servidor e com isso posssa realizar rollback caso seja necessário </span>
</span><span class='line'><span class="n">set</span> <span class="ss">:keep_releases</span><span class="p">,</span> <span class="mi">5</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># A última linha é importântissima pois permite que o Capistrano utilize do recurso de </span>
</span><span class='line'><span class="c1"># forward agent do SSH, esse recurso permite que o SSH carregue sua chave, previamente </span>
</span><span class='line'><span class="c1"># configurada e carregada em sua estação de trabalho, para o servidor. Permitindo assim </span>
</span><span class='line'><span class="c1"># que de lá o Capistrano consiga acessar o repositório no Github.</span>
</span><span class='line'><span class="n">ssh_options</span><span class="o">[</span><span class="ss">:forward_agent</span><span class="o">]</span> <span class="o">=</span> <span class="kp">true</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Deploy</h2>

<p>Chegou a hora de fazer o deploy de nossa aplicação, esse processo é feito em duas etapas: setup e o deploy propriamente dito. Antes, vamos checar se todas as dependências foram cumpridas:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cap deploy:check</span></code></pre></td></tr></table></div></figure>


<p>Se tudo correr bem, rode o comando setup para preparar o ambiente para o deploy:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cap deploy:setup</span></code></pre></td></tr></table></div></figure>


<p>O setup é necessário para criar a estrutura base que será utilizada para gerenciar os deploys, abaixo um exemplo da estrutura que é criada no <code>setup</code>:</p>

<figure class='code'><figcaption><span>Estrutura base do path utilizado para deploy </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>deploy_to<span class="o">]</span>
</span><span class='line'><span class="o">[</span>deploy_to<span class="o">]</span>/releases
</span><span class='line'><span class="o">[</span>deploy_to<span class="o">]</span>/releases/20080819001122
</span><span class='line'><span class="o">[</span>deploy_to<span class="o">]</span>/releases/...
</span><span class='line'><span class="o">[</span>deploy_to<span class="o">]</span>/shared
</span><span class='line'><span class="o">[</span>deploy_to<span class="o">]</span>/shared/log
</span><span class='line'><span class="o">[</span>deploy_to<span class="o">]</span>/shared/pids
</span><span class='line'><span class="o">[</span>deploy_to<span class="o">]</span>/shared/system
</span><span class='line'><span class="o">[</span>deploy_to<span class="o">]</span>/current -&gt; <span class="o">[</span>deploy_to<span class="o">]</span>/releases/20100819001122
</span></code></pre></td></tr></table></div></figure>


<p>Basicamente são duas pastas e um link simbólico. <code>releases/</code> é a pasta que manterá os releases dos deploys já realizados. A cada deploy criado uma pasta será criada nesse diretório. A pasta <code>shared/</code>, como o nome já descreve, é utilizada para compartilhar configurações, logs e arquivos que devem ser mantidos mesmo após um deploy. Dentre eles temos os logs, pids e uploads.</p>

<p>Antes de fazer o deploy nós precisamos criar o banco de dados e seus respectivos acessos e permissões. Esse processo deve ser feito manualmente e imagino que você saiba como fazer isto.</p>

<p>Após criar o banco de dados nós precisamos configurar o <code>database.yml</code> que será utilizado no servidor. Uma vez configurado envio para a pasta <code>shared/</code> no servidor de produção e adicione a seguinte task ao seu arquivo <code>config/deploy.rb</code>:</p>

<figure class='code'><figcaption><span>Personalizando o deploy </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">after</span> <span class="ss">:deploy</span><span class="p">,</span> <span class="s1">&#39;deploy:database&#39;</span>
</span><span class='line'><span class="n">namespace</span> <span class="ss">:deploy</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">task</span> <span class="ss">:database</span><span class="p">,</span> <span class="ss">:roles</span> <span class="o">=&gt;</span> <span class="ss">:app</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">run</span> <span class="s2">&quot;cp </span><span class="si">#{</span><span class="n">deploy_to</span><span class="si">}</span><span class="s2">/shared/database.yml </span><span class="si">#{</span><span class="n">current_path</span><span class="si">}</span><span class="s2">/config/&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Essa task será executada assim que a task denominada <code>:deploy</code> for finalizada e copiará o arquivo <code>database.yml</code> para o path <code>config/</code>. Hora de fazer o deploy. Para fazer o deploy rode o comando:</p>

<figure class='code'><figcaption><span>Fazendo o deploy </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'> <span class="nv">$ </span>cap deploy
</span></code></pre></td></tr></table></div></figure>


<p>Uma série de comandos será executado, ao final, se nenhum erro ocorrer, sua aplicação terá uma estrutura semelhante à exibida acima e o deploy terá sido executado com sucesso.</p>

<p>Entretanto, acredito que ainda há mais um passo a ser feito, uma vez realizado o deploy, o Capistrano precisa reinicializar a aplicação e normalmente ele faz isso reiniciando o servidor web. Mas sabemos que não é necessário reinicializar o servidor web para isso, bastaria atualizar a data de alteração do arquivo [cci]tmp/restart.txt[/cci] existente na sua aplicação. Vamos sobrescrever a tarefa responsável por isso (repare que o código está dentro do namespace :deploy):</p>

<figure class='code'><figcaption><span>Substituindo o restart da aplica</span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">namespace</span> <span class="ss">:deploy</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">task</span> <span class="ss">:restart</span><span class="p">,</span> <span class="ss">:roles</span> <span class="o">=&gt;</span> <span class="ss">:app</span><span class="p">,</span> <span class="ss">:except</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:no_release</span> <span class="o">=&gt;</span> <span class="kp">true</span> <span class="p">}</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">run</span> <span class="s2">&quot;cd </span><span class="si">#{</span><span class="n">current_path</span><span class="si">}</span><span class="s2"> &amp;&amp; touch tmp/restart.txt&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Caso necessário rode novamente o comando para deploy: <code>cap deploy</code>. Pronto, aplicação implantada. Quando um deploy é realizado um link simbólico é criado dentro do caminho configurado para deploy, via diretiva <code>deploy_to</code>, de nome <code>current</code>. O <code>current</code> aponta para o último release criado.</p>

<p>O artigo ficou grande, mas espero que tenha informações úteis para lhe ajudar. Obrigado e até mais.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/05/29/review-ciclo-de-palestras-do-ceet-vasco-coutinho/">Review: Ciclo De Palestras Do CEET Vasco Coutinho</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-05-29T15:57:59-03:00" pubdate data-updated="true">May 29<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/05/29/review-ciclo-de-palestras-do-ceet-vasco-coutinho/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Graças a iniciativa do <a href="http://www.ceetvascocoutinho.com.br/">Centro Estadual de Educação Técnica (CEET) Vasco Coutinho</a> em criar o <a href="http://www.ceetvascocoutinho.com.br/site/index.php?option=com_content&amp;view=article&amp;id=88:ciclodepalestra&amp;catid=41:banner"><strong>Ciclo de Palestras</strong></a>, um evento do Projeto Enriquecimento Curricular (PEC), e de um camarada que, ao que me pareceu, foi fundamental para a realização do evento (o <a href="http://twitter.com/#!/marcelo18victor">Marcelo Victor</a>), e o apoio da <a href="http://www.giran.com.br/">Giran</a>, eu e meu amigo <a href="http://www.tagliati.com.br">André Tagliati</a> tivemos a honra de palestrar sobre os temas: <a href="http://www.slideshare.net/m3nd3s/palestra-do-php-ao-rails">Do PHP ao Rails</a> e <a href="http://www.slideshare.net/m3nd3s/ciclo-de-palestras-ceet-vasco-coutinho">Arduino Project</a>.</p>

<p><img title="Trecho da palestra: Do PHP ao Rails" src="http://desmond.yfrog.com/Himg618/scaled.php?tn=0&amp;server=618&amp;filename=81way.jpg&amp;xsize=640&amp;ysize=640" alt="" width="250" height="187" /></p>

<p>Eu já estive no CEET VC há um bom tempo, se não me falha a memória foi em um ENCASOFT (Encontro Capixaba de Software Livre) que realizamos lá, e retornar lá foi muito legal.</p>

<p>Talvez poucos saibam, mas se tem uma coisa que eu faço e GOSTO MUITO é repassar conhecimento, não sei exatamente de onde tirei isto, talvez pelo fato de tudo que eu aprendi foi com pessoas que gostavam de fazer isto também, talvez porque eu me sinta responsável por ajudar as pessoas, talvez seja porque eu desejo que as pessoas aprendam mais e sejam pessoas melhores, enfim, essa oportunidade de palestrar no CEET VC foi mais que especial: um público de jovens que um dia sonham em ser profissionais de tecnologia e ganhar dinheiro fazendo o que gostam.</p>

<p>Na palestra sobre Rails, essa eu fiz <em>alone</em> mas contei com o apoio no mano <a href="http://www.leohackin.com.br/">Leo Hackin</a>, tentei repassar minha experiência como  (ex)programador PHP e quais foram os motivos que me levaram a migrar para  o Rails. Como de costume a palestra foi conduzida com um leve tom de  descontração e leves brincadeiras. Foi durante esta palestra que eu pude falar sobre algo que me incomoda ver acontecer com as pessoas: esperar o dia perfeito para começar algo.</p>

<p>Sendo breve, muitas pessoas adiam as coisas que gostariam de fazer, esperam o dia em que elas tiverem tempo suficiente para fazer ou simplesmente adiam sem motivo algum, talvez por falta de interesse ou mesmo stress mental. Vendo todos aqueles alunos eu falei da necessidade de começar algo.</p>

<ul>
    <li>Se você tem vontade de aprender uma nova linguagem: COMECE!</li>
    <li>Se você quer aprender inglês: COMECE!</li>
    <li>Seu interesse é em se tornar um profissional melhor: COMECE!</li>
    <li>Comece!</li>
</ul>


<p>Pense alguns instantes todas as vezes que você deixou de fazer algo porque não tinha tempo suficiente para fazê-lo naquele momento. Pensou? Agora some tudo e pense que se você tivesse começado naquele dia, ao menos um pouco do que você queria fazer, e perceba o tempo perdido, o quanto poderia já ter feito se tivesse começado e feito ao menos um pouco.</p>

<p>Quer aprender uma linguagem nova? Comece! Leia ao menos um parágrafo por dia, mas leia e continue, dia após dia você verá que as coisas irão fluir. É disto que falo, comece e vá aos poucos, mantenha o ritmo e aos poucos as coisas irão acontecer.</p>

<p>Agora voltando ao assunto, a palestra de Rails foi linda! Até a secretária de educação assistiu minha palestra (e me viu falar a palavra &#8220;merda&#8221; durante a palestra). Os que ficaram antenados tiveram a oportunidade de ganhar uma <a href="http://www.facebook.com/photo.php?pid=524153&amp;id=168969243142453">lindíssima camisa da Giran</a> que seria dada ao primeiro aluno que fizesse pergunta.</p>

<p>Após o almoço eu e o amigo <a href="http://www.tagliati.com.br/">André Tagliati</a> palestramos sobre o Arduino Project, este foi o momento mais alto do dia, pelo menos para nós. Graças a uma ideia do Tagliati em utilizamos o Arduino para passar os slides utilizando o controle remoto da televisão <em>(minha esposa não gostou muito disso, ela teve que passar os canais na própria TV)</em>. Em um segundo momento eu falo sobre esta experiência, mas posso garantir que foi uma experiência muito proveitosa e instigante para todos, especialmente os alunos que, finalizada a palestra, vieram em massa conhecer a plaquinha e como nós estávamos fazendo para passar os slides com controle de TV.</p>

<p>Assim como foi feito na primeira palestra, nós demos uma camisa da Giran para o primeiro aluno a fazer pergunta. Ao final da palestra o Leo Hackin falou rapidamente sobre mercado de trabalho e o futuro que eles tem bastando para isso correrem atrás pois o momento é muito favorável, afinal quando foi a última vez que se viu tantos eventos, a maioria gratuitos, e pessoas interessadas em repassar conhecimento e trocar ideias?</p>

<p>Aos que não puderam ir, mesmo diante de tantos convites, só lamento. Aos que foram e também aos que comentaram no blog interessados no <strong>Arduino Hack Day</strong>, aguardem boas novas, é provável que aconteça antes do imaginado.</p>

<p>Para finalizar deixo meus calorosos agradecimentos ao Marcelo Victor que nos (Giran) contactou e convidou para palestrar, a coordenadora do curso Zirlene e a todos que participaram do evento.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/05/04/arduino-hack-day-ve-s/">Arduino Hack Day - vE.S</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-05-04T17:30:19-03:00" pubdate data-updated="true">May 4<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/05/04/arduino-hack-day-ve-s/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Então galera! Esse é um post rápido com a intenção de identificar os interessados em participar de um evento sobre <a href="http://www.arduino.cc">Arduino</a>. aqui em Vitória - Epírito Santo.</p>

<p><img class="aligncenter" title="Arduino" src="http://arduino.cc/en/pub/skins/arduinoWide/img/logo.png" alt="Arduino" width="170" height="116" /></p>

<p>Eu e meu amigo @tagliati estamos organizando um evento para falar/codar/brincar/hackear/.*  <a href="http://www.arduino.cc">Arduino</a>, e na medida do possível criar alguns monstrinhos. A ideia principal é seguir o formato do Arduino Hack Day, um Hack Day, onde uma galera interessada no assunto se reúne para bater um papo, trocar algumas ideias e criar coisas bacanas!</p>

<p><strong>Se você gosta de eletrônica, adora programar, acha irado a galera que cria algo bacana como </strong><a href="http://vimeo.com/9928343"> Super Mario Bros on an 8x8 LED matrix</a> <strong>mas não tem conhecimento algum sobre eletrônica, não sabe o que é um resistor e mesmo assim gostaria de</strong> brincar de Dr. Frankenstein, então levante a <del>mão</del> mouse e comente o post para que possamos nos comunicar e marcar algo.</p>

<p>Não somos experts no assunto mas temos interesse em aprender.</p>

<p>Ah! Você não tem uma Arduino? Não se preocupe, eu e @tagliati temos e acho que já é o suficiente para brincarmos com alguma coisa. Se você se interessar em comprar uma nós podemos indicar onde conseguir ;).</p>

<p>Vlw!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/02/10/o-meu-jeito-de-ler-livros/">O Meu Jeito De Ler Livros</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-10T16:20:27-03:00" pubdate data-updated="true">Feb 10<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/02/10/o-meu-jeito-de-ler-livros/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><!-- p { margin-bottom: 0.21cm; } -->


<p>O título pode parecer estranho a primeira vista, afinal as pessoas costumam ler livros <strong>lendo</strong>! Arruma-se um lugar tranquilo, com o mínimo de perturbação<span style="text-decoration: line-through;"> da força</span> possível, senta-se e inicia-se a leitura.</p>

<p>Entretanto, eu, assim como a maioria das pessoas que fazem faculdade ocupam quase todo seu tempo livre para estudar e conseguir finalizar a faculdade.</p>

<p>Pois é! Eu ainda estou agarrado na faculdade mas se Deus permitir este ano de 2011 será o meu último ano da faculdade.</p>

<p>O tempo &#8220;livre&#8221; que eu tento eu aproveito para resolver minhas pendências da faculdade: fazendo exercícios <em>(que normalmente valem nota)</em>, estudando para provas, fazendo trabalhos, escrevendo meu TCC, etc. Isso acaba por consumir boa parte do meu tempo à leitura direcionada a assuntos acadêmicos, portanto assuntos como TDD, BDD, outras linguagens de programação, desenvolver e melhorar técnicas de programação, gerência de projetos com XP + Scrum e outras coisas mais que não sejam assuntos técnicos acabam ficando em segundo plano.</p>

<p>Maaaasss! Não posso parar, meu trabalho depende disso, mesmo que não dependesse eu gosto muito de ler sobre assuntos não técnicos também. Ainda não tenho meio de transporte próprio, portanto utilizo o coletivo para qualquer movimentação casa-&gt;trabalho-&gt;faculdade-&gt;casa-&gt;?. Então a primeira coisa que você provavelmente irá pensar é que eu leio livros no ônibus, errado!</p>

<p>Eu tenho problema que eu sequer consigo parar por um minuto e olhar para meu celular ou para ler algumas frases de jornais alheios (também aproveito minhas viagens nos coletivos para ler jornal dos demais passageiros, mas apenas os títulos maiores e as figurinhas.. rsrsrs). Bastam alguns segundos com o olhar fixo em alguma leitura e eu começo a ficar tonto, e se eu persistir a dor de cabeça é certa.</p>

<p>Hoje minha rotina é: casa -&gt; trabalho -&gt; faculdade, nesse percurso de casa para o trabalho existe um trecho que faço a pé e é justamente nesse ponto que eu inicio minha leitura. Sim! Eu leio andando nas ruas. :P</p>

<p>Por mais estranho que pareça, eu não consigo ler em ônibus mas consigo ler andando nas ruas. Assim que desço do coletivo eu abro minha mochila e pego o livro da vez (desta vez estou lendo o livro &#8220;Oportunidades disfarçadas&#8221; de Carlos Domingos) e inicio minha leitura. Atravesso ruas e ruas lendo, as vezes  penso que alguém poderia me achar doido, mas após alguns segundos eu desconsidero.. heh.</p>

<p>Quando preciso atravessar as ruas eu passo sempre nas faixas e enquanto inicio a travessia eu paro a leitura, depois volto novamente.</p>

<p>Pois é, é assim que leio meus livros, um pouco diferente a forma, mas foi deste jeito que eu consegui ler alguns bons livros aqui da Giran.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    
<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/m3nd3s">@m3nd3s</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'm3nd3s',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("m3nd3s", 1, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/m3nd3s" class="twitter-follow-button" data-show-count="false">Follow @m3nd3s</a>
  
</section>

<section>
  <h1>Blog de Amigos</h1>
  <ul>
    <li><a target="_blank" href="http://www.leohackin.com.br">Leo Hackin</a></li>
    <li><a target="_blank" href="http://www.jeveaux.com">Jeveaux</a></li>
    <li><a target="_blank" href="http://blog.joaovrmaia.com/">João Victor</a></li>
    <li><a target="_blank" href="http://www.tux-es.org">Comunidade Tux-ES</a></li>
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - m3nd3s -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'm3nd3s';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
